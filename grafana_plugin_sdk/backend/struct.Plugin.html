<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Main entrypoint into the Grafana plugin SDK."><title>Plugin in grafana_plugin_sdk::backend - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-7dda4a46.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="grafana_plugin_sdk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0-nightly (092a284ba 2025-04-13)" data-channel="nightly" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../grafana_plugin_sdk/index.html">grafana_<wbr>plugin_<wbr>sdk</a><span class="version">0.5.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Plugin</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#shutdown-handler" title="Shutdown Handler">Shutdown Handler</a></li><li><a href="#type-parameters" title="Type parameters">Type parameters</a></li><li><a href="#example" title="Example:">Example:</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.data_service" title="data_service">data_service</a></li><li><a href="#method.diagnostics_service" title="diagnostics_service">diagnostics_service</a></li><li><a href="#method.init_subscriber" title="init_subscriber">init_subscriber</a></li><li><a href="#method.new" title="new">new</a></li><li><a href="#method.resource_service" title="resource_service">resource_service</a></li><li><a href="#method.shutdown_handler" title="shutdown_handler">shutdown_handler</a></li><li><a href="#method.start" title="start">start</a></li><li><a href="#method.stream_service" title="stream_service">stream_service</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Default-for-Plugin%3CNoopService,+NoopService,+NoopService,+NoopService%3E" title="Default">Default</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-Plugin%3CD,+Q,+R,+S%3E" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send-for-Plugin%3CD,+Q,+R,+S%3E" title="Send">Send</a></li><li><a href="#impl-Sync-for-Plugin%3CD,+Q,+R,+S%3E" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-Plugin%3CD,+Q,+R,+S%3E" title="Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Allocation-for-T" title="Allocation">Allocation</a></li><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-ErasedDestructor-for-T" title="ErasedDestructor">ErasedDestructor</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Instrument-for-T" title="Instrument">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-IntoEither-for-T" title="IntoEither">IntoEither</a></li><li><a href="#impl-IntoRequest%3CT%3E-for-T" title="IntoRequest&#60;T&#62;">IntoRequest&#60;T&#62;</a></li><li><a href="#impl-LayerExt%3CL%3E-for-L" title="LayerExt&#60;L&#62;">LayerExt&#60;L&#62;</a></li><li><a href="#impl-MaybeSendSync-for-T" title="MaybeSendSync">MaybeSendSync</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li><li><a href="#impl-WithSubscriber-for-T" title="WithSubscriber">WithSubscriber</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In grafana_<wbr>plugin_<wbr>sdk::<wbr>backend</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">grafana_plugin_sdk</a>::<wbr><a href="index.html">backend</a></div><h1>Struct <span class="struct">Plugin</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#343-351">Source</a> </span></div><pre class="rust item-decl"><code>pub struct Plugin&lt;D, Q, R, S&gt; { <span class="comment">/* private fields */</span> }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Main entrypoint into the Grafana plugin SDK.</p>
<p>A <code>Plugin</code> handles the negotiation with Grafana, adding gRPC health checks,
serving the various <code>Service</code>s, and gracefully exiting if configured.</p>
<h2 id="shutdown-handler"><a class="doc-anchor" href="#shutdown-handler">§</a>Shutdown Handler</h2>
<p>A plugin can be configured to gracefully shutdown by calling the <a href="struct.Plugin.html#method.shutdown_handler" title="method grafana_plugin_sdk::backend::Plugin::shutdown_handler"><code>Plugin::shutdown_handler</code></a>
method. This will spawn a new task which simply waits for <em>any</em> TCP connection on
the given address, and triggers a graceful shutdown of the underlying gRPC server.
This is helpful during development using Docker: a tool such as <a href="https://crates.io/crates/cargo-watch"><code>cargo-watch</code></a>
can be used to rebuild on changes, then use <code>nc</code> to trigger a shutdown of the plugin. Grafana
will automatically plugins when their process exits, so this avoids having to restart the
Grafana server on every change. An example configuration for this can be seen in the
<a href="https://github.com/sd2k/grafana-sample-backend-plugin-rust">grafana-sample-backend-plugin-rust</a> repository.</p>
<h2 id="type-parameters"><a class="doc-anchor" href="#type-parameters">§</a>Type parameters</h2>
<p>The four type parameters of a <code>Plugin</code> represent the services that this plugin
is configured to run. When created using <a href="struct.Plugin.html#method.new" title="associated function grafana_plugin_sdk::backend::Plugin::new"><code>Plugin::new</code></a> the plugin has the
<code>NoopService</code> associated with each type, which simply does not register anything
for this piece of functionality. Calling the various methods on <code>Plugin</code> (such
as <a href="struct.Plugin.html#method.data_service" title="method grafana_plugin_sdk::backend::Plugin::data_service"><code>Plugin::data_service</code></a> and <a href="struct.Plugin.html#method.stream_service" title="method grafana_plugin_sdk::backend::Plugin::stream_service"><code>Plugin::stream_service</code></a>) will return a new
<code>Plugin</code> with your plugin implementation registered for that functionality.</p>
<p>The type parameters stand for:</p>
<ul>
<li><code>D</code>, the diagnostic service</li>
<li><code>Q</code>, the data service (‘Q’ stands for ‘query’, here)</li>
<li><code>R</code>, the resource service</li>
<li><code>S</code>, the streaming service</li>
</ul>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example:</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>futures_util::stream::FuturesOrdered;
<span class="kw">use </span>grafana_plugin_sdk::{backend, prelude::<span class="kw-2">*</span>};
<span class="kw">use </span>thiserror::Error;

<span class="attr">#[derive(Clone, GrafanaPlugin)]
#[grafana_plugin(plugin_type = <span class="string">"datasource"</span>)]
</span><span class="kw">struct </span>MyPlugin;

<span class="doccomment">/// An error that may occur during a query.
///
/// This must store the `ref_id` of the query so that Grafana can line it up.
</span><span class="attr">#[derive(Debug, Error)]
#[error(<span class="string">"Error querying backend for {ref_id}"</span>)]
</span><span class="kw">struct </span>QueryError {
    ref_id: String,
};

<span class="kw">impl </span>backend::DataQueryError <span class="kw">for </span>QueryError {
    <span class="kw">fn </span>ref_id(<span class="self">self</span>) -&gt; String {
        <span class="self">self</span>.ref_id
    }
}

<span class="attr">#[tonic::async_trait]
</span><span class="kw">impl </span>backend::DataService <span class="kw">for </span>MyPlugin {

    <span class="doccomment">/// The type of JSON data sent from Grafana to our backend plugin.
    ///
    /// This will correspond to the `TQuery` type parameter of the frontend
    /// datasource.
    ///
    /// We can use `serde_json::Value` if we want to accept any JSON.
    </span><span class="kw">type </span>Query = serde_json::Value;

    <span class="doccomment">/// The type of error that could be returned by an individual query.
    </span><span class="kw">type </span>QueryError = QueryError;

    <span class="doccomment">/// The type of iterator we're returning.
    ///
    /// In general the concrete type will be impossible to name in advance,
    /// so the `backend::BoxDataResponseStream` type alias will be useful.
    </span><span class="kw">type </span>Stream = backend::BoxDataResponseStream&lt;<span class="self">Self</span>::QueryError&gt;;

    <span class="doccomment">/// Respond to a request for data from Grafana.
    ///
    /// This request will contain zero or more queries, as well as information
    /// about the datasource instance on behalf of which this request is made,
    /// such as address, credentials, etc.
    ///
    /// Our plugin must respond to each query and return an iterator of `DataResponse`s,
    /// which themselves can contain zero or more `Frame`s.
    </span><span class="kw">async fn </span>query_data(<span class="kw-2">&amp;</span><span class="self">self</span>, request: backend::QueryDataRequest&lt;<span class="self">Self</span>::Query, <span class="self">Self</span>&gt;) -&gt; <span class="self">Self</span>::Stream {
        Box::pin(
            request
                .queries
                .into_iter()
                .map(|x| <span class="kw">async </span>{
                    <span class="comment">// Here we create a single response Frame for each query.
                    // Frames can be created from iterators of fields using [`IntoFrame`].
                    </span><span class="prelude-val">Ok</span>(backend::DataResponse::new(
                        x.ref_id.clone(),
                        <span class="comment">// Return zero or more frames.
                        // A real implementation would fetch this data from a database
                        // or something.
                        </span><span class="macro">vec!</span>[[
                            [<span class="number">1_u32</span>, <span class="number">2</span>, <span class="number">3</span>].into_field(<span class="string">"x"</span>),
                            [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>].into_field(<span class="string">"y"</span>),
                        ]
                        .into_frame(<span class="string">"foo"</span>)
                        .check()
                        .map_err(|source| QueryError {
                            ref_id: x.ref_id,
                        })<span class="question-mark">?</span>],
                    ))
                })
                .collect::&lt;FuturesOrdered&lt;<span class="kw">_</span>&gt;&gt;(),
        )
    }
}

<span class="attr">#[grafana_plugin_sdk::main(
    services(data),
    shutdown_handler = <span class="string">"0.0.0.0:10001"</span>,
)]
</span><span class="kw">async fn </span>plugin() -&gt; MyPlugin {
    MyPlugin
}</code></pre></div>
</div></details><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Plugin%3CNoopService,+NoopService,+NoopService,+NoopService%3E" class="impl"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#353-366">Source</a><a href="#impl-Plugin%3CNoopService,+NoopService,+NoopService,+NoopService%3E" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;NoopService, NoopService, NoopService, NoopService&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#356-365">Source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new <code>Plugin</code> with no registered services.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#374-477">Source</a><a href="#impl-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.shutdown_handler" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#383-392">Source</a><h4 class="code-header">pub fn <a href="#method.shutdown_handler" class="fn">shutdown_handler</a>(self, address: <a class="enum" href="https://doc.rust-lang.org/nightly/core/net/socket_addr/enum.SocketAddr.html" title="enum core::net::socket_addr::SocketAddr">SocketAddr</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Add a shutdown handler to the plugin, listening on the specified address.</p>
<p>The shutdown handler waits for a TCP connection on the specified address
and requests that the server gracefully shutdown when any connection is made.</p>
<p>Note that this <em>only</em> takes effect in debug mode. The shutdown handler
is never added when the crate is compiled in release mode.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.init_subscriber" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#413-416">Source</a><h4 class="code-header">pub fn <a href="#method.init_subscriber" class="fn">init_subscriber</a>(self, init_subscriber: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Initialize a default [<code>tracing_subscriber::fmt::Subscriber</code>] upon starting.</p>
<p>If enabled, this will initialize a <code>Subscriber</code> emitting logs to stderr
in a format compatible with Grafana, at a default max level of <code>info</code>.</p>
<p>This effectively causes the following to be called as part of <code>Plugin::start</code>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>grafana_plugin_sdk::backend;
<span class="kw">use </span>tracing_subscriber::{prelude::<span class="kw-2">*</span>, EnvFilter};

<span class="kw">let </span>filter = EnvFilter::try_from_default_env()
    .unwrap_or_else(|<span class="kw">_</span>| EnvFilter::new(<span class="string">"info"</span>));
tracing_subscriber::registry()
    .with(filter)
    .with(backend::layer())
    .init()</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.data_service" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#419-431">Source</a><h4 class="code-header">pub fn <a href="#method.data_service" class="fn">data_service</a>&lt;T&gt;(self, service: T) -&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, T, R, S&gt;<div class="where">where
    T: <a class="trait" href="trait.DataService.html" title="trait grafana_plugin_sdk::backend::DataService">DataService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Add a data service to this plugin.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.diagnostics_service" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#434-446">Source</a><h4 class="code-header">pub fn <a href="#method.diagnostics_service" class="fn">diagnostics_service</a>&lt;T&gt;(self, service: T) -&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;T, Q, R, S&gt;<div class="where">where
    T: <a class="trait" href="trait.DiagnosticsService.html" title="trait grafana_plugin_sdk::backend::DiagnosticsService">DiagnosticsService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Add a diagnostics service to this plugin.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.resource_service" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#449-461">Source</a><h4 class="code-header">pub fn <a href="#method.resource_service" class="fn">resource_service</a>&lt;T&gt;(self, service: T) -&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, T, S&gt;<div class="where">where
    T: <a class="trait" href="trait.ResourceService.html" title="trait grafana_plugin_sdk::backend::ResourceService">ResourceService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Add a resource service to this plugin.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.stream_service" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#464-476">Source</a><h4 class="code-header">pub fn <a href="#method.stream_service" class="fn">stream_service</a>&lt;T&gt;(self, service: T) -&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, T&gt;<div class="where">where
    T: <a class="trait" href="trait.StreamService.html" title="trait grafana_plugin_sdk::backend::StreamService">StreamService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h4></section></summary><div class="docblock"><p>Add a streaming service to this plugin.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Plugin%3CD,+Q,+R,+S%3E-1" class="impl"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#479-548">Source</a><a href="#impl-Plugin%3CD,+Q,+R,+S%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="trait.DiagnosticsService.html" title="trait grafana_plugin_sdk::backend::DiagnosticsService">DiagnosticsService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,
    Q: <a class="trait" href="trait.DataService.html" title="trait grafana_plugin_sdk::backend::DataService">DataService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,
    R: <a class="trait" href="trait.ResourceService.html" title="trait grafana_plugin_sdk::backend::ResourceService">ResourceService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,
    S: <a class="trait" href="trait.StreamService.html" title="trait grafana_plugin_sdk::backend::StreamService">StreamService</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + 'static,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.start" class="method"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#497-547">Source</a><h4 class="code-header">pub async fn <a href="#method.start" class="fn">start</a>(self, listener: TcpListener) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="enum.Error.html" title="enum grafana_plugin_sdk::backend::Error">Error</a>&gt;</h4></section></summary><div class="docblock"><p>Start the plugin.</p>
<p>This adds all of the configured services, spawns a shutdown handler
(if configured), and blocks while the plugin runs.</p>
<h5 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h5>
<p>This will panic if <code>init_subscriber(true)</code> has been set and another
global subscriber has already been installed. If you are initializing your
own <code>Subscriber</code>, you should instead use the <a href="fn.layer.html" title="fn grafana_plugin_sdk::backend::layer"><code>layer</code></a> function to add a
Grafana-compatible <code>tokio_subscriber::fmt::Layer</code> to your subscriber.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Default-for-Plugin%3CNoopService,+NoopService,+NoopService,+NoopService%3E" class="impl"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#368-372">Source</a><a href="#impl-Default-for-Plugin%3CNoopService,+NoopService,+NoopService,+NoopService%3E" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;NoopService, NoopService, NoopService, NoopService&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.default" class="method trait-impl"><a class="src rightside" href="../../src/grafana_plugin_sdk/backend/mod.rs.html#369-371">Source</a><a href="#method.default" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default" class="fn">default</a>() -&gt; Self</h4></section></summary><div class='docblock'>Returns the “default value” for a type. <a href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html#tymethod.default">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-Freeze-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a>,</div></h3></section><section id="impl-RefUnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-RefUnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,</div></h3></section><section id="impl-Send-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-Send-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</div></h3></section><section id="impl-Sync-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-Sync-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div></h3></section><section id="impl-Unpin-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-Unpin-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,</div></h3></section><section id="impl-UnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" class="impl"><a href="#impl-UnwindSafe-for-Plugin%3CD,+Q,+R,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;D, Q, R, S&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Plugin.html" title="struct grafana_plugin_sdk::backend::Plugin">Plugin</a>&lt;D, Q, R, S&gt;<div class="where">where
    D: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,
    Q: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,</div></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#209">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#211">Source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#218">Source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#767">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#770">Source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Instrument-for-T" class="impl"><a href="#impl-Instrument-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Instrument for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl"><a href="#method.instrument" class="anchor">§</a><h4 class="code-header">fn <a class="fn">instrument</a>(self, span: Span) -&gt; Instrumented&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided [<code>Span</code>], returning an
<code>Instrumented</code> wrapper. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl"><a href="#method.in_current_span" class="anchor">§</a><h4 class="code-header">fn <a class="fn">in_current_span</a>(self) -&gt; Instrumented&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="super::Span::current()">current</a> <a href="crate::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#750-752">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#760">Source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-IntoEither-for-T" class="impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#64">Source</a><a href="#impl-IntoEither-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html" title="trait either::into_either::IntoEither">IntoEither</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into_either" class="method trait-impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#29">Source</a><a href="#method.into_either" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either" class="fn">into_either</a>(self, into_left: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either">Either</a>&lt;Self, Self&gt;</h4></section></summary><div class='docblock'>Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Left" title="variant either::Either::Left"><code>Left</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
if <code>into_left</code> is <code>true</code>.
Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Right" title="variant either::Either::Right"><code>Right</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
otherwise. <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.into_either_with" class="method trait-impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#55-57">Source</a><a href="#method.into_either_with" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either_with" class="fn">into_either_with</a>&lt;F&gt;(self, into_left: F) -&gt; <a class="enum" href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either">Either</a>&lt;Self, Self&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,</div></h4></section></summary><div class='docblock'>Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Left" title="variant either::Either::Left"><code>Left</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
if <code>into_left(&amp;self)</code> returns <code>true</code>.
Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Right" title="variant either::Either::Right"><code>Right</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
otherwise. <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either_with">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-IntoRequest%3CT%3E-for-T" class="impl"><a href="#impl-IntoRequest%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; IntoRequest&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into_request" class="method trait-impl"><a href="#method.into_request" class="anchor">§</a><h4 class="code-header">fn <a class="fn">into_request</a>(self) -&gt; Request&lt;T&gt;</h4></section></summary><div class='docblock'>Wrap the input message <code>T</code> in a <code>tonic::Request</code></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-LayerExt%3CL%3E-for-L" class="impl"><a href="#impl-LayerExt%3CL%3E-for-L" class="anchor">§</a><h3 class="code-header">impl&lt;L&gt; LayerExt&lt;L&gt; for L</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.named_layer" class="method trait-impl"><a href="#method.named_layer" class="anchor">§</a><h4 class="code-header">fn <a class="fn">named_layer</a>&lt;S&gt;(&amp;self, service: S) -&gt; Layered&lt;&lt;L as Layer&lt;S&gt;&gt;::Service, S&gt;<div class="where">where
    L: Layer&lt;S&gt;,</div></h4></section></summary><div class='docblock'>Applies the layer to a service and wraps it in [<code>Layered</code>].</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#806-808">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#810">Source</a><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#813">Source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#791-793">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#795">Source</a><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#798">Source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-T" class="impl"><a href="#impl-WithSubscriber-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; WithSubscriber for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl"><a href="#method.with_subscriber" class="anchor">§</a><h4 class="code-header">fn <a class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; WithDispatch&lt;Self&gt;<div class="where">where
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;Dispatch&gt;,</div></h4></section></summary><div class='docblock'>Attaches the provided <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
[<code>WithDispatch</code>] wrapper. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl"><a href="#method.with_current_subscriber" class="anchor">§</a><h4 class="code-header">fn <a class="fn">with_current_subscriber</a>(self) -&gt; WithDispatch&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="crate::dispatcher#setting-the-default-subscriber">default</a> <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
[<code>WithDispatch</code>] wrapper. <a>Read more</a></div></details></div></details><section id="impl-Allocation-for-T" class="impl"><a href="#impl-Allocation-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Allocation for T<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</div></h3></section><section id="impl-ErasedDestructor-for-T" class="impl"><a href="#impl-ErasedDestructor-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; ErasedDestructor for T<div class="where">where
    T: 'static,</div></h3></section><section id="impl-MaybeSendSync-for-T" class="impl"><a href="#impl-MaybeSendSync-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; MaybeSendSync for T</h3></section></div></section></div></main></body></html>